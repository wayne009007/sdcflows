

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>sdcflows.workflows.fmap module &mdash; sdcflows 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sdcflows.workflows.gre module" href="sdcflows.workflows.gre.html" />
    <link rel="prev" title="sdcflows.workflows.base module" href="sdcflows.workflows.base.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> sdcflows
          

          
          </a>

          
            
            
              <div class="version">
                0.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="sdcflows.html">sdcflows package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="sdcflows.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="sdcflows.cli.html">sdcflows.cli package</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdcflows.interfaces.html">sdcflows.interfaces package</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdcflows.viz.html">sdcflows.viz package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="sdcflows.workflows.html">sdcflows.workflows package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="sdcflows.workflows.html#automatic-selection-of-the-appropriate-susceptibility-distortion-correction-sdc-method">Automatic selection of the appropriate susceptibility-distortion correction (SDC) method</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="sdcflows.workflows.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sdcflows</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="sdcflows.html">sdcflows package</a> &raquo;</li>
        
          <li><a href="sdcflows.workflows.html">sdcflows.workflows package</a> &raquo;</li>
        
      <li>sdcflows.workflows.fmap module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/sdcflows.workflows.fmap.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<div class="section" id="module-sdcflows.workflows.fmap">
<span id="sdcflows-workflows-fmap-module"></span><h1>sdcflows.workflows.fmap module<a class="headerlink" href="#module-sdcflows.workflows.fmap" title="Permalink to this headline">¶</a></h1>
<p>Fieldmap-based estimation of susceptibility distortions.</p>
<div class="section" id="direct-b0-mapping-sequences">
<span id="sdc-direct-b0"></span><h2>Direct B0 mapping sequences<a class="headerlink" href="#direct-b0-mapping-sequences" title="Permalink to this headline">¶</a></h2>
<p>When the fieldmap is directly measured with a prescribed sequence (such as
<abbr title="spiral echo">SE</abbr>), we only need to calculate the corresponding B-Spline
coefficients to adapt the fieldmap to the TOPUP tool.
This procedure is described with more detail <a class="reference external" href="https://cni.stanford.edu/wiki/GE_Processing#Fieldmaps">here</a>.</p>
<p>This corresponds to <a class="reference external" href="https://bids-specification.readthedocs.io/en/stable/04-modality-specific-files/01-magnetic-resonance-imaging-data.html#a-real-fieldmap-image">this section of the BIDS specification</a>.</p>
<dl class="function">
<dt id="sdcflows.workflows.fmap.init_fmap_wf">
<code class="sig-prename descclassname">sdcflows.workflows.fmap.</code><code class="sig-name descname">init_fmap_wf</code><span class="sig-paren">(</span><em class="sig-param">omp_nthreads</em>, <em class="sig-param">fmap_bspline</em>, <em class="sig-param">name='fmap_wf'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdcflows/workflows/fmap.html#init_fmap_wf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sdcflows.workflows.fmap.init_fmap_wf" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the fieldmap based on a field-mapping MRI acquisition.</p>
<p>When we have a sequence that directly measures the fieldmap,
we just need to mask it (using the corresponding magnitude image)
to remove the noise in the surrounding air region, and ensure that
units are Hz.</p>
<dl>
<dt>Workflow Graph</dt><dd><div class="figure align-default">
<img alt="../_images/sdcflows-workflows-fmap-1.png" src="../_images/sdcflows-workflows-fmap-1.png" />
</div>
<p>(<a class="reference external" href="../api/sdcflows-workflows-fmap-1.py">Source code</a>, <a class="reference external" href="../api/sdcflows-workflows-fmap-1.png">png</a>, <a class="reference external" href="../api/sdcflows-workflows-fmap-1.svg">svg</a>, <a class="reference external" href="../api/sdcflows-workflows-fmap-1.pdf">pdf</a>)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>omp_nthreads</strong> (<em>int</em>) – Maximum number of threads an individual process may use.</p></li>
<li><p><strong>fmap_bspline</strong> (<em>bool</em>) – Whether the fieldmap estimate will be smoothed using BSpline basis.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Unique name of this workflow.</p></li>
</ul>
</dd>
<dt class="field-even">Inputs</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>magnitude</strong> (<em>str</em>) – Path to the corresponding magnitude image for anatomical reference.</p></li>
<li><p><strong>fieldmap</strong> (<em>str</em>) – Path to the fieldmap acquisition (<code class="docutils literal notranslate"><span class="pre">*_fieldmap.nii[.gz]</span></code> of BIDS).</p></li>
</ul>
</dd>
<dt class="field-odd">Outputs</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmap</strong> (<em>str</em>) – Path to the estimated fieldmap.</p></li>
<li><p><strong>fmap_ref</strong> (<em>str</em>) – Path to a preprocessed magnitude image reference.</p></li>
<li><p><strong>fmap_mask</strong> (<em>str</em>) – Path to a binary brain mask corresponding to the <code class="docutils literal notranslate"><span class="pre">fmap</span></code> and <code class="docutils literal notranslate"><span class="pre">fmap_ref</span></code>
pair.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sdcflows.workflows.gre.html" class="btn btn-neutral float-right" title="sdcflows.workflows.gre module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sdcflows.workflows.base.html" class="btn btn-neutral float-left" title="sdcflows.workflows.base module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2019, Center for Reproducible Neuroscience, Stanford University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: master
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../docs_test/api/sdcflows.workflows.fmap.html">docs_test</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="sdcflows.workflows.fmap.html">master</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>